{"ast":null,"code":"import React,{useState}from'react';import{MDBBtn,MDBCol,MDBCard,MDBCardBody,MDBInput,MDBCheckbox}from'mdb-react-ui-kit';import{useNavigate}from'react-router-dom';import axios from'axios';import{BASE_URL}from'../constants/constants';import{toastError,toastSucess}from'../constants/Plugin';import{useDispatch}from'react-redux';import{setuserDetail}from'../Toolkit/userSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Loginbox(_ref){let{setBoxName}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const dispatch=useDispatch();const handleSignup=()=>{setBoxName('signup');};const handleLogin=()=>{try{if(email&&password){axios.post(\"\".concat(BASE_URL,\"/auth/login\"),{email,password}).then(res=>{if(res.data.message===\"login sucessfull\"&&res.data.token){localStorage.setItem('token',res.data.token);const parsedToken=parseJwt(res.data.token);localStorage.setItem('user',JSON.stringify(parsedToken));dispatch(setuserDetail(parsedToken));toastSucess(\"login sucessfull\");navigate('/home');}if(res.data.message===\"invalid credentials\"){toastError(\"invalid credentials\");}});}else{alert(\"credentials are not filled\");}}catch(error){}};function parseJwt(token){var base64Url=token.split('.')[1];var base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');var jsonPayload=decodeURIComponent(window.atob(base64).split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);}).join(''));return JSON.parse(jsonPayload);}return/*#__PURE__*/_jsxs(MDBCol,{md:\"4\",className:\"position-relative bg\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"radius-shape-1\",className:\"position-absolute rounded-circle shadow-5-strong\"}),/*#__PURE__*/_jsx(\"div\",{id:\"radius-shape-2\",className:\"position-absolute shadow-5-strong\"}),/*#__PURE__*/_jsx(MDBCard,{className:\"my-5 bg-glass\",children:/*#__PURE__*/_jsxs(MDBCardBody,{className:\"p-5\",children:[/*#__PURE__*/_jsx(MDBInput,{wrapperClass:\"mb-4\",label:\"Email\",id:\"form3\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(MDBInput,{wrapperClass:\"mb-4\",label:\"Password\",id:\"form4\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 mb-4 btn text-light  border rounded-2\",style:{background:'  #010203'},size:\"md\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"dont have an account?\",/*#__PURE__*/_jsx(\"span\",{onClick:handleSignup,children:\"Register here\"})]})})]})})]});}export default Loginbox;","map":{"version":3,"names":["React","useState","MDBBtn","MDBCol","MDBCard","MDBCardBody","MDBInput","MDBCheckbox","useNavigate","axios","BASE_URL","toastError","toastSucess","useDispatch","setuserDetail","jsx","_jsx","jsxs","_jsxs","Loginbox","_ref","setBoxName","email","setEmail","password","setPassword","navigate","dispatch","handleSignup","handleLogin","post","concat","then","res","data","message","token","localStorage","setItem","parsedToken","parseJwt","JSON","stringify","alert","error","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","map","c","charCodeAt","toString","slice","join","parse","md","className","children","id","wrapperClass","label","type","value","onChange","e","target","style","background","size","onClick"],"sources":["C:/Users/Dell SSD/Desktop/mern/entri/auction/my-court/src/components/Loginbox.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  MDBBtn,\r\n  MDBCol,\r\n  MDBCard,\r\n  MDBCardBody,\r\n  MDBInput,\r\n  MDBCheckbox,\r\n  \r\n}\r\nfrom 'mdb-react-ui-kit';\r\nimport{useNavigate}from 'react-router-dom';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { BASE_URL } from '../constants/constants';\r\nimport { toastError, toastSucess } from '../constants/Plugin';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setuserDetail } from '../Toolkit/userSlice';\r\n\r\n\r\n\r\nfunction Loginbox({setBoxName}) {\r\n const [email, setEmail] = useState('')\r\n const [password, setPassword] = useState('')\r\n const navigate = useNavigate();\r\n const dispatch=useDispatch()\r\n const handleSignup=()=>{\r\n    setBoxName('signup')\r\n   }\r\n\r\n   const handleLogin=()=>{\r\n    try {\r\n      if (email&& password) {\r\n        axios.post(`${BASE_URL}/auth/login`,{email,password}).then((res)=>{\r\n        if (res.data.message===\"login sucessfull\" && res.data.token) {\r\n          localStorage.setItem('token',res.data.token)\r\n          const parsedToken=parseJwt(res.data.token)\r\n          localStorage.setItem('user',JSON.stringify(parsedToken))\r\n           dispatch(setuserDetail(parsedToken))\r\n          toastSucess(\"login sucessfull\")\r\n          navigate('/home')\r\n          \r\n        }\r\n\r\n                if (res.data.message===\"invalid credentials\") {\r\n                  toastError(\"invalid credentials\")\r\n                }\r\n\r\n          \r\n        })\r\n        \r\n      }else{\r\n        alert(\"credentials are not filled\")\r\n      }\r\n      \r\n    } catch (error) {\r\n      \r\n    }\r\n   }\r\n  \r\n   function parseJwt (token) {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n\r\n    return JSON.parse(jsonPayload);\r\n}\r\n\r\n\r\n\r\n  return (\r\n    \r\n\r\n        <MDBCol md='4' className='position-relative bg'>\r\n\r\n          <div id=\"radius-shape-1\" className=\"position-absolute rounded-circle shadow-5-strong\"></div>\r\n          <div id=\"radius-shape-2\" className=\"position-absolute shadow-5-strong\"></div>\r\n\r\n          <MDBCard className='my-5 bg-glass'>\r\n            <MDBCardBody className='p-5'>\r\n\r\n              <MDBInput wrapperClass='mb-4' label='Email' id='form3' type='email' value={email} onChange={(e)=>setEmail(e.target.value)}/>\r\n              <MDBInput wrapperClass='mb-4' label='Password' id='form4' type='password' value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n\r\n             \r\n              <button className='w-100 mb-4 btn text-light  border rounded-2' style={{background: '  #010203'}} size='md' onClick={handleLogin} >Login</button>\r\n\r\n              <div className=\"text-center\">\r\n\r\n                <p>dont have an account?<span onClick={handleSignup} >Register here</span></p>\r\n\r\n               \r\n              </div>\r\n\r\n            </MDBCardBody>\r\n          </MDBCard>\r\n\r\n        </MDBCol>\r\n\r\n     \r\n  );\r\n}\r\n\r\nexport default Loginbox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}